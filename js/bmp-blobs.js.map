{"version":3,"file":"bmp-blobs.min.js","sources":["bmp-blobs.js"],"names":["window","generateUUID","URL","BMP","blobs","createObjectURL","blob","options","key","autoRevoke","revokeObjectURL","uri","replace","retrieveObject","revokeAllObjectURLs","c","r","Math","random","v","toString","this","MIME","TEXT_TYPES","isText","type","indexOf","b","Blob","NestedBlob","convertArrayBufferToBase64","isConstructableBlob","err","buffer","i","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","btoa","data","datum","Array","isArray","Error","size","base64","text","length","createNative","builder","BlobBuilder","append","getBlob","fromBlobURL","url","onSuccess","onError","nativelyFromBlobURL","fromNativeBlob","fr","FileReader","onload","event","result","target","fromDataURI","onerror","error","readAsDataURL","dataURI","parts","encoding","split","atob","makeNested","prototype","toDataURI","head","xhr","XMLHttpRequest","onreadystatechange","mime","serializer","readyState","DONE","getResponseHeader","status","responseType","response","XMLSerializer","serializeToString","JSON","stringify","open","send","isNested","decode64","encode64","undoNested","toNative","FileInput","element","$","$el","el","_","isElement","val","files","getNativeBlob","index","isNumber","RangeError","dfrd","Deferred","resolve","reject","promise","initialize","document","body","on","onClick","$this"],"mappings":"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"}
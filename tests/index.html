<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="assets/mocha.css" />

    <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>

    <!-- mocha + chai + sinon-->
    <script src="assets/mocha.js"></script>
    <script src="assets/chai.js"></script>
    <script src="assets/sinon-chai.js"></script>
    <script src="assets/sinon.js"></script>

    <!-- global stuff-->
    <script src="http://d1c6dfkb81l78v.cloudfront.net/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://d1c6dfkb81l78v.cloudfront.net/underscorejs/1.4.4/underscore-min.js"></script>
    <script src="http://d1c6dfkb81l78v.cloudfront.net/backbonejs/1.0.0/backbone-min.js"></script>
    <script src="http://d1c6dfkb81l78v.cloudfront.net/mustache/0.7.2/mustache.min.js"></script>
    <script src="http://d1c6dfkb81l78v.cloudfront.net/requirejs/2.1.2/require.js"></script>

    <!-- code coverage -->
    <script src="assets/blanket.min.js"
        data-cover-adapter="assets/mocha-blanket.js"
        data-cover-only="//^...scripts.*\w/"
        data-cover-never="//vendor/"
    ></script>

    <!-- mocha setup -->
    <script>
        mocha.setup('bdd');
        //mocha.globals(['$', 'jQuery', 'LiveReload'])
        var should = chai.should();
        var expect = chai.expect;
    </script>

    <!-- application variables (normally in php) -->
    <script>
        window.BMP = {
          siteVars: {
            answerSpace: 'Exists',
            answerSpaceId: 1
          },
          FileInput: {
            initialize: function () {
                return "hello!";
            }
          }
        };
        window.Modernizr = {indexeddb: false};
        window.BlinkForms = {};
        Backbone.sync = function () {return arguments;}
        $.mobile = {};

        requirejs.config({
          baseUrl: '../scripts/',
          paths: {
            feature: 'vendor/feature',
            text: 'vendor/text',
            implementations: 'implementation-data'
          }
        });
    </script>
</head>
<body>
    <div id="mocha"></div>

    <script>
        require([
            'test-api.js',
            'test-collection-datasuitcases.js',
            'test-collection-forms.js',
            'test-collection-interactions.js',
            'test-collection-pending.js',
            'test-collection-stars.js',
            'test-data-inMemory.js',
            'test-data-pouch.js',
            'test-model-application.js',
            'test-model-datasuitcase.js',
            'test-model-form.js',
            'test-model-interaction.js',
            'test-model-pending.js',
            'test-model-star.js',
            'test-router.js',
            'test-view-interaction.js',
            'test-view-star.js'
            ], function () {
                mocha.run()
        });
    </script>

</body>
</html>
